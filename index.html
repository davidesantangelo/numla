<!DOCTYPE html>
<html lang="en" class="dark">
  <head>
    <meta charset="UTF-8" />
    <link rel="icon" type="image/svg+xml" href="/vite.svg" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Numla - Natural Language Calculator</title>
  </head>
  <body
    class="bg-zinc-50 text-zinc-900 dark:bg-black dark:text-gray-200 h-screen flex overflow-hidden font-mono antialiased selection:bg-zinc-200 selection:text-black dark:selection:bg-zinc-800 dark:selection:text-white"
  >
    <div id="app" class="flex w-full h-full relative">
      <!-- Spotlight Modal (Hidden by default) -->
      <div
        id="spotlight-overlay"
        class="fixed inset-0 bg-white/80 dark:bg-black/80 backdrop-blur-sm z-50 hidden flex items-start justify-center pt-[20vh]"
      >
        <div
          class="w-full max-w-2xl bg-white dark:bg-zinc-950 border border-zinc-200 dark:border-zinc-800 shadow-2xl flex flex-col max-h-[60vh]"
        >
          <div
            class="p-4 border-b border-zinc-200 dark:border-zinc-900 flex items-center gap-3"
          >
            <svg
              xmlns="http://www.w3.org/2000/svg"
              width="20"
              height="20"
              viewBox="0 0 24 24"
              fill="none"
              stroke="currentColor"
              stroke-width="2"
              stroke-linecap="round"
              stroke-linejoin="round"
              class="text-zinc-400 dark:text-zinc-500"
            >
              <circle cx="11" cy="11" r="8"></circle>
              <line x1="21" y1="21" x2="16.65" y2="16.65"></line>
            </svg>
            <input
              type="text"
              id="spotlight-input"
              placeholder="Search notes..."
              class="w-full bg-transparent border-none focus:outline-none text-lg text-zinc-900 dark:text-white placeholder-zinc-400 dark:placeholder-zinc-600"
              autocomplete="off"
            />
            <span
              class="text-xs text-zinc-400 dark:text-zinc-600 border border-zinc-200 dark:border-zinc-800 px-2 py-1"
              >ESC</span
            >
          </div>
          <div id="spotlight-list" class="overflow-y-auto p-2 space-y-1">
            <!-- Items injected here -->
          </div>
          <div
            class="p-2 border-t border-zinc-200 dark:border-zinc-900 text-xs text-zinc-500 dark:text-zinc-600 flex justify-between px-4 bg-zinc-50/50 dark:bg-zinc-950/50"
          >
            <span>Select to open</span>
            <div class="flex gap-3">
              <span><kbd class="font-sans">↑↓</kbd> Navigate</span>
              <span><kbd class="font-sans">↵</kbd> Open</span>
            </div>
          </div>
        </div>
      </div>

      <!-- Main Editor -->
      <main
        class="flex-1 flex flex-col h-full bg-zinc-50 dark:bg-black relative"
      >
        <!-- Tab Bar -->
        <div
          id="tab-bar"
          class="flex items-center bg-zinc-50 dark:bg-black border-b border-zinc-200 dark:border-zinc-900 overflow-x-auto no-scrollbar"
        >
          <!-- Tabs injected here -->
        </div>

        <!-- Bottom Liquid Glass Bar -->
        <div
          id="bottom-bar"
          class="absolute bottom-6 left-1/2 -translate-x-1/2 flex items-center gap-4 px-6 py-3 bg-white/80 dark:bg-zinc-900/80 backdrop-blur-md border border-zinc-200/50 dark:border-zinc-800/50 rounded-lg shadow-2xl z-50 transition-all hover:bg-white/90 dark:hover:bg-zinc-900/90 hover:scale-105"
        >
          <button
            id="menu-btn"
            class="text-zinc-500 dark:text-zinc-400 hover:text-zinc-900 dark:hover:text-white transition-colors text-xs font-bold uppercase tracking-widest"
            title="Open Spotlight (Cmd+K)"
          >
            Numla
          </button>
          <div class="w-px h-4 bg-zinc-200 dark:bg-zinc-800 separator-conditional"></div>
          <span
            id="timestamp-display"
            class="text-xs font-mono text-zinc-400 dark:text-zinc-500"
          ></span>
          <div class="w-px h-4 bg-zinc-200 dark:bg-zinc-800 separator-conditional"></div>
          <button
            id="delete-btn"
            class="text-zinc-500 dark:text-zinc-400 hover:text-red-500 transition-colors"
            title="Delete Note"
          >
            <svg
              xmlns="http://www.w3.org/2000/svg"
              width="16"
              height="16"
              viewBox="0 0 24 24"
              fill="none"
              stroke="currentColor"
              stroke-width="2"
              stroke-linecap="round"
              stroke-linejoin="round"
            >
              <polyline points="3 6 5 6 21 6"></polyline>
              <path
                d="M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"
              ></path>
            </svg>
          </button>
          <div class="w-px h-4 bg-zinc-200 dark:bg-zinc-800 separator-persistent"></div>
          <button
            id="theme-btn"
            class="text-zinc-500 dark:text-zinc-400 hover:text-zinc-900 dark:hover:text-white transition-colors"
            title="Toggle Theme"
          >
            <!-- Icon injected by JS -->
          </button>
        </div>
        <div class="flex-1 relative flex overflow-hidden">
          <div
            class="flex-1 relative font-mono text-lg md:text-xl leading-relaxed"
          >
            <!-- Highlighter Backdrop -->
            <div
              id="highlighter"
              class="absolute inset-0 w-full h-full p-8 md:p-16 lg:p-24 whitespace-pre-wrap break-words overflow-hidden pointer-events-none text-zinc-800 dark:text-gray-300 bg-transparent z-0"
              aria-hidden="true"
            ></div>

            <!-- Actual Editor -->
            <textarea
              id="note-editor"
              class="absolute inset-0 w-full h-full p-8 md:p-16 lg:p-24 resize-none focus:outline-none text-transparent caret-zinc-900 dark:caret-white bg-transparent overflow-y-scroll no-scrollbar z-10"
              placeholder="Start typing..."
            ></textarea>
          </div>
          <div class="w-[25%] relative hidden md:block">
            <div
              id="results-display"
              class="w-full h-full p-8 md:p-16 lg:p-24 pt-8 md:pt-16 lg:pt-24 text-lg md:text-xl leading-relaxed text-blue-400 font-mono text-right overflow-hidden select-none pointer-events-none"
            >
              <!-- Results injected here -->
            </div>
          </div>
        </div>

        <!-- Floating Hint -->
        <div
          class="absolute bottom-6 right-6 text-zinc-700 text-xs pointer-events-none select-none"
        >
          Cmd+K to search
        </div>
        <!-- Delete Confirmation Modal -->
        <div
          id="delete-modal-overlay"
          class="fixed inset-0 bg-black/60 backdrop-blur-sm z-[60] hidden opacity-0 transition-opacity duration-300"
        ></div>
        <div
          id="delete-modal"
          class="fixed top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 bg-zinc-900 border border-zinc-800 rounded-2xl p-6 shadow-2xl w-[90%] max-w-sm z-[70] hidden opacity-0 scale-95 transition-all duration-300 transform"
        >
          <h3 class="text-lg font-bold text-white mb-2">Delete Note?</h3>
          <p class="text-zinc-400 text-sm mb-6">
            This action cannot be undone. Are you sure you want to delete this
            note?
          </p>
          <div class="flex justify-end gap-3">
            <button
              id="cancel-delete-btn"
              class="px-4 py-2 text-sm font-medium text-zinc-400 hover:text-white transition-colors"
            >
              Cancel
            </button>
            <button
              id="confirm-delete-btn"
              class="px-4 py-2 text-sm font-medium bg-red-500/10 text-red-500 hover:bg-red-500/20 border border-red-500/20 rounded-lg transition-colors"
            >
              Delete
            </button>
          </div>
        </div>
      </main>
    </div>
    <script type="module" src="/src/main.js"></script>
  </body>
</html>
